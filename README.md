## Создание модуля мультирегиональности на подпапках и демонстрация его работы(Laravel)

## Как запустить

Перед запуском убедитесь что 80 порт свободен.
После того как склонируете проект с github необходимо собрать и запустить докер docker compose up --build
после сборки контейнера он автоматически запустится, и станет доступен по адресу http://localhost 
база sqlite уже заполнена городами

## Как работает

### 1. Переход по подпапкам городов осуществляется в посреднике App\Http\Middleware\IdentifyRegion и включение его в роутах web.php 
    Если переходим по прямой ссылке http://localhost, то пробует поднять из сессии какой город был выбран ранее
    Также город можно указать кириллицей http://localhost/Казань

дополнительно вывод текущего города в секцию header добавлен helper функция selectedCity 


### 2. Загрузка городов в БД должно осуществляться с помощью парсера.

Происходит вызовом метода 
    метод Get http://localhost/api/region/load/
        Загрузка городов(https://api.hh.ru/areas) реализовано в классе App\Classes\ApiHH, который вернет все города уже с отбором по России
        Перевод русского название в translit реализовано в классе App\Classes\StringTranslit

        После загрузки городов, можно запустить тестирование. Тест выполняет первый запрос без указания города, второй раз с указанием города, и третий без указания города. На проверку, что город выбрался из сессии

Добавление города
    метод Post http://localhost/api/region/
    Body {"id":10234,"name":"test"}
    Проверка только на корректность наличия необходимых полей (id,name), если в базе уже будет город с таким же id, то перезатрет название в базе

Удаление города
    метод DELETE http://localhost/api/region/31


